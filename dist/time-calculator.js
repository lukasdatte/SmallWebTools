$(() => {
    const input = $("#input");
    input.on("keyup" /*"input keydown keyup mousedown mouseup select contextmenu drop"*/, () => {
        let val = input.val().toString().replace("/", ":").replace(/[^\d:+-\s]/g, "");
        input.val(val);
        //collapse signs
        const times = [];
        const split = val.split(/(?=[-+])/);
        let negative = false;
        for (let s of split) {
            switch (s) {
                case "+":
                    break;
                case "-":
                    negative = !negative;
                    break;
                default:
                    if (s.length == 0)
                        break;
                    if (s.charAt(0) == "-")
                        negative = !negative;
                    times.push(Time.fromString(s, negative));
                    negative = false;
                    break;
            }
        }
        //calc result
        const resultTime = new Time(0, 0);
        for (let time of times) {
            resultTime.add(time);
        }
        $("#output").text(resultTime.toString());
    });
});
class Time {
    constructor(hour, minute, positive = null) {
        let cleanTime = Time.cleanTime(hour, minute);
        this.hour = cleanTime.hour;
        this.minute = cleanTime.minute;
        let newPositive;
        if (positive != null) {
            if (cleanTime.positive == false && positive)
                throw new Error("Illegales Argument, Munite und Stunden vorzeichen negativ passt nicht f√ºr das gegebene positive vorzeichen");
            newPositive = positive;
        }
        else
            newPositive = cleanTime.positive;
        this.positive = newPositive;
    }
    add(t) {
        let cleanTime = Time.cleanTime(0, this.asMinutes() + t.asMinutes());
        this.hour = cleanTime.hour;
        this.minute = cleanTime.minute;
        this.positive = cleanTime.positive;
    }
    toString() {
        return `${this.positive ? "" : "-"}${this.hour}:${this.minute}h  ${this.positive ? "" : "-"}${this.hour * 60 + this.minute}min`;
    }
    asMinutes() {
        return (this.hour * 60 + this.minute) * (this.positive ? 1 : -1);
    }
    static cleanTime(hour, minute) {
        let positive = true;
        if (hour < 0 || minute < 0) {
            if (hour != 0 && minute != 0 && hour < 0 != minute < 0)
                return null;
            positive = false;
            hour *= -1;
            minute *= -1;
        }
        let minutesExclHours = minute % 60;
        hour = hour + (minute - minutesExclHours) / 60;
        minute = minutesExclHours;
        return { hour: hour, minute: minute, positive: positive };
    }
    static fromString(string, forcedNegative = false) {
        string = string.replace(/[^\d:]/g, "");
        const numbers = string.split(":");
        if (numbers.length == 1)
            return new Time(0, Number.parseInt(numbers[0]), !forcedNegative);
        if (numbers.length == 2) {
            return new Time(Number.parseInt(numbers[0]), Number.parseInt(numbers[1]), !forcedNegative);
        }
        return null;
    }
}

//# sourceMappingURL=data:application/json;charset=utf8;base64,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LElBQUksR0FBRyxJQUFJLEdBQUcsQ0FBQyxNQUFNLEdBQUcsZ0JBQWdCLENBQUMsR0FBRyxFQUFFLENBQUM7UUFDL0MsTUFBTSxHQUFHLGdCQUFnQixDQUFDO1FBQzFCLE9BQU8sRUFBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBQyxDQUFDO0lBQzVELENBQUM7SUFFRCxNQUFNLENBQUMsVUFBVSxDQUFDLE1BQWUsRUFBRSxjQUFjLEdBQUcsS0FBSztRQUNyRCxNQUFNLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxTQUFTLEVBQUMsRUFBRSxDQUFDLENBQUM7UUFDdEMsTUFBTSxPQUFPLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUNsQyxJQUFHLE9BQU8sQ0FBQyxNQUFNLElBQUksQ0FBQztZQUNsQixPQUFPLElBQUksSUFBSSxDQUFDLENBQUMsRUFBRSxNQUFNLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsY0FBYyxDQUFDLENBQUM7UUFDckUsSUFBRyxPQUFPLENBQUMsTUFBTSxJQUFJLENBQUMsRUFBRTtZQUNwQixPQUFPLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1NBQzlGO1FBQ0QsT0FBTyxJQUFJLENBQUM7SUFDaEIsQ0FBQztDQUNKIiwiZmlsZSI6InRpbWUtY2FsY3VsYXRvci5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoKCkgPT4ge1xyXG4gICAgY29uc3QgaW5wdXQgPSAkKFwiI2lucHV0XCIpO1xyXG4gICAgaW5wdXQub24oXCJrZXl1cFwiIC8qXCJpbnB1dCBrZXlkb3duIGtleXVwIG1vdXNlZG93biBtb3VzZXVwIHNlbGVjdCBjb250ZXh0bWVudSBkcm9wXCIqLywgKCkgPT4ge1xyXG4gICAgICAgIGxldCB2YWwgPSBpbnB1dC52YWwoKS50b1N0cmluZygpLnJlcGxhY2UoXCIvXCIsXCI6XCIpLnJlcGxhY2UoL1teXFxkOistXFxzXS9nLFwiXCIpO1xyXG4gICAgICAgIGlucHV0LnZhbCh2YWwpO1xyXG5cclxuICAgICAgICAvL2NvbGxhcHNlIHNpZ25zXHJcbiAgICAgICAgY29uc3QgdGltZXMgOiBUaW1lW10gPSBbXTtcclxuICAgICAgICBjb25zdCBzcGxpdCA9IHZhbC5zcGxpdCgvKD89Wy0rXSkvKTtcclxuXHJcbiAgICAgICAgbGV0IG5lZ2F0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgZm9yIChsZXQgcyBvZiBzcGxpdCkge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHMpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCIrXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiLVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIG5lZ2F0aXZlID0gIW5lZ2F0aXZlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZihzLmxlbmd0aCA9PSAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBpZihzLmNoYXJBdCgwKSA9PSBcIi1cIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmVnYXRpdmUgPSAhbmVnYXRpdmU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGltZXMucHVzaChUaW1lLmZyb21TdHJpbmcocywgbmVnYXRpdmUpKTtcclxuICAgICAgICAgICAgICAgICAgICBuZWdhdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL2NhbGMgcmVzdWx0XHJcbiAgICAgICAgY29uc3QgcmVzdWx0VGltZSA9IG5ldyBUaW1lKDAsMCk7XHJcbiAgICAgICAgZm9yIChsZXQgdGltZSBvZiB0aW1lcykge1xyXG4gICAgICAgICAgICByZXN1bHRUaW1lLmFkZCh0aW1lKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICQoXCIjb3V0cHV0XCIpLnRleHQocmVzdWx0VGltZS50b1N0cmluZygpKTtcclxuICAgIH0pO1xyXG59KTtcclxuXHJcbmNsYXNzIFRpbWUge1xyXG4gICAgcG9zaXRpdmU6IGJvb2xlYW47XHJcbiAgICBob3VyOiBudW1iZXI7XHJcbiAgICBtaW51dGU6IG51bWJlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihob3VyOiBudW1iZXIsIG1pbnV0ZTogbnVtYmVyLCBwb3NpdGl2ZSA6IGJvb2xlYW4gPSBudWxsKSB7XHJcbiAgICAgICAgbGV0IGNsZWFuVGltZSA9IFRpbWUuY2xlYW5UaW1lKGhvdXIsIG1pbnV0ZSk7XHJcbiAgICAgICAgdGhpcy5ob3VyID0gY2xlYW5UaW1lLmhvdXI7XHJcbiAgICAgICAgdGhpcy5taW51dGUgPSBjbGVhblRpbWUubWludXRlO1xyXG5cclxuICAgICAgICBsZXQgbmV3UG9zaXRpdmU7XHJcbiAgICAgICAgaWYocG9zaXRpdmUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBpZiAoY2xlYW5UaW1lLnBvc2l0aXZlID09IGZhbHNlICYmIHBvc2l0aXZlKVxyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSWxsZWdhbGVzIEFyZ3VtZW50LCBNdW5pdGUgdW5kIFN0dW5kZW4gdm9yemVpY2hlbiBuZWdhdGl2IHBhc3N0IG5pY2h0IGbDvHIgZGFzIGdlZ2ViZW5lIHBvc2l0aXZlIHZvcnplaWNoZW5cIik7XHJcbiAgICAgICAgICAgIG5ld1Bvc2l0aXZlID0gcG9zaXRpdmU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgbmV3UG9zaXRpdmUgPSBjbGVhblRpbWUucG9zaXRpdmU7XHJcbiAgICAgICAgdGhpcy5wb3NpdGl2ZSA9IG5ld1Bvc2l0aXZlO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZCAodCA6IFRpbWUpe1xyXG4gICAgICAgIGxldCBjbGVhblRpbWUgPSBUaW1lLmNsZWFuVGltZSgwLCB0aGlzLmFzTWludXRlcygpICsgdC5hc01pbnV0ZXMoKSk7XHJcbiAgICAgICAgdGhpcy5ob3VyID0gY2xlYW5UaW1lLmhvdXI7XHJcbiAgICAgICAgdGhpcy5taW51dGUgPSBjbGVhblRpbWUubWludXRlO1xyXG4gICAgICAgIHRoaXMucG9zaXRpdmUgPSBjbGVhblRpbWUucG9zaXRpdmU7XHJcbiAgICB9XHJcblxyXG4gICAgdG9TdHJpbmcgKCkge1xyXG4gICAgICAgIHJldHVybiBgJHt0aGlzLnBvc2l0aXZlID8gXCJcIiA6IFwiLVwifSR7dGhpcy5ob3VyfToke3RoaXMubWludXRlfWggICR7dGhpcy5wb3NpdGl2ZSA/IFwiXCIgOiBcIi1cIn0ke3RoaXMuaG91cio2MCArIHRoaXMubWludXRlfW1pbmA7XHJcbiAgICB9XHJcblxyXG4gICAgYXNNaW51dGVzKCkge1xyXG4gICAgICAgIHJldHVybiAodGhpcy5ob3VyICogNjAgKyB0aGlzLm1pbnV0ZSkgKiAodGhpcy5wb3NpdGl2ZSA/IDEgOiAtMSlcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgY2xlYW5UaW1lKGhvdXI6IG51bWJlciwgbWludXRlOiBudW1iZXIpIHtcclxuICAgICAgICBsZXQgcG9zaXRpdmUgPSB0cnVlO1xyXG4gICAgICAgIGlmKGhvdXIgPCAwIHx8IG1pbnV0ZSA8IDApe1xyXG4gICAgICAgICAgICBpZihob3VyICE9IDAgJiYgbWludXRlICE9IDAgJiYgaG91ciA8IDAgIT0gbWludXRlIDwgMClcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICBwb3NpdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICBob3VyICo9IC0xO1xyXG4gICAgICAgICAgICBtaW51dGUgKj0gLTE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBtaW51dGVzRXhjbEhvdXJzID0gbWludXRlICUgNjA7XHJcbiAgICAgICAgaG91ciA9IGhvdXIgKyAobWludXRlIC0gbWludXRlc0V4Y2xIb3VycykgLyA2MDtcclxuICAgICAgICBtaW51dGUgPSBtaW51dGVzRXhjbEhvdXJzO1xyXG4gICAgICAgIHJldHVybiB7aG91cjogaG91ciwgbWludXRlOiBtaW51dGUsIHBvc2l0aXZlOiBwb3NpdGl2ZX07XHJcbiAgICB9XHJcblxyXG4gICAgc3RhdGljIGZyb21TdHJpbmcoc3RyaW5nIDogc3RyaW5nLCBmb3JjZWROZWdhdGl2ZSA9IGZhbHNlKSA6IFRpbWUge1xyXG4gICAgICAgIHN0cmluZyA9IHN0cmluZy5yZXBsYWNlKC9bXlxcZDpdL2csXCJcIik7XHJcbiAgICAgICAgY29uc3QgbnVtYmVycyA9IHN0cmluZy5zcGxpdChcIjpcIik7XHJcbiAgICAgICAgaWYobnVtYmVycy5sZW5ndGggPT0gMSlcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBUaW1lKDAsIE51bWJlci5wYXJzZUludChudW1iZXJzWzBdKSwgIWZvcmNlZE5lZ2F0aXZlKTtcclxuICAgICAgICBpZihudW1iZXJzLmxlbmd0aCA9PSAyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgVGltZShOdW1iZXIucGFyc2VJbnQobnVtYmVyc1swXSksIE51bWJlci5wYXJzZUludChudW1iZXJzWzFdKSwgIWZvcmNlZE5lZ2F0aXZlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbn0iXSwic291cmNlUm9vdCI6Im1vZHVsZXMvbnBjT3ZlcmhhdWxzUGF0Y2hlci9zcmMvIn0=
